apiVersion: v1
kind: ConfigMap
metadata:
  name: custom-trial-templates
  namespace: kubeflow
  labels:
    katib.kubeflow.org/component: trial-templates
data:
  xgboostTemplate: |-
    apiVersion: batch/v1
    kind: Job
    spec:
      template:
        metadata:
          annotations:
            "sidecar.istio.io/inject": "false"
        spec:
          containers:
            - name: training-container
              image: docker.io/killer66562/xgboost-trainer:latest
              command:
                - "python3"
                - "/opt/xgboost/train.py"
                - "--lr=${trialParameters.learningRate}"
                - "--ne=${trialParameters.nEstimators}"
                - "--rs-${trialParameters.randomState}"
                - "--booster=${trialParameters.booster}"
                - "--device=cuda"
                - "--x-train-path=datasets/x_train.csv"
                - "--x-test-path=datasets/x_test.csv"
                - "--y-train-path=datasets/y_train.csv"
                - "--y-test-path=datasets/y_test.csv"
          restartPolicy: Never
